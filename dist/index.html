<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>

        	@-webkit-keyframes fadeIn {
        		0% {
        			opacity: 0;
        		}
        		100% {
        			opacity: 1;
        		}
        	}

        	@keyframes fadeIn {
        		0% {
        			opacity: 0;
        		}
        		100% {
        			opacity: 1;
        		}
        	}

        	@-webkit-keyframes spin {
        		0% {
        			-webkit-transform: rotate(0);
        			        transform: rotate(0);
        		}
        		100% {
        			-webkit-transform: rotate(360deg);
        			        transform: rotate(360deg);
        		}
        	}

        	@keyframes spin {
        		0% {
        			-webkit-transform: rotate(0);
        			        transform: rotate(0);
        		}
        		100% {
        			-webkit-transform: rotate(360deg);
        			        transform: rotate(360deg);
        		}
        	}

        	@keyframes look {
				0% {
					transform: rotateY(0);
				}

				20% {
					transform: rotateY(-45deg);
				}

				50% {
					transform: rotateY(45deg);
				}

				70% {
					transform: rotateX(30deg);
				}

				90% {
					transform: rotateX(0);
				}
        	}

        	@keyframes wiggle {
				0% {
					transform: translate();
				}

				20% {
					transform: translate(0.5rem, 0.5rem);
				}

				50% {
					transform: translate(-0.2rem, 0.2rem);
				}

				70% {
					transform: translate(0.5rem, -0.2rem);
				}

				90% {
					transform: rotateX(0);
				}
        	}

        	html {
        		height: 100%;
        	}

        	body {
        		height: 100%;
				margin: 0;
				background: #4f6ab1;
				font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
				color: white;
				font-size: 20px;
			}

			audio {
				display: none; 
				position: absolute;
				bottom: 0;
				left: 0;
				z-index: 100;
			}

			canvas {
				-webkit-animation: 1s fadeIn;
				        animation: 1s fadeIn;
			}

			.debug-visualiser {
				display: none;
			}

			.text {
				position: absolute;
				left: 0;
				top: 0;
				width: 100%;
				height: 100%;
				display: -webkit-box;
				display: -ms-flexbox;
				display: flex;
				-webkit-box-align: center;
				    -ms-flex-align: center;
				        align-items: center;
				-webkit-box-pack: center;
				    -ms-flex-pack: center;
				        justify-content: center;
				z-index: 101;
				/* display: none; */
			}

			.intro {
				width: 70%;
				text-align: center;
			}

			.status {
				text-transform: uppercase;
				margin-top: 1rem;
				font-size: 0.8rem;
				display: block;
			}

			.loading {
				-webkit-animation: fadeIn 1s alternate infinite;
				        animation: fadeIn 1s alternate infinite; 
				margin: 0 auto;
			}

			.hide {
				display: none;
			}

			.icon {
				width: 5rem;
				margin: 0 auto;
				text-transform: uppercase;
			}

			.play {
				position: relative;
				opacity: 0.7;
				cursor: pointer;
				-webkit-transition: 0.3s;
				transition: 0.3s;
				z-index: 100;
			}

			.play:hover {
				opacity: 1;
			}

			.dg.ac {
				z-index: 100 !important;
				display: none;
			}

			.hint-container {
				position: absolute;
				width: 100%;
				bottom: 5%;
				left: 0;
				z-index: 100;
				perspective: 500px;
				opacity: 0;
				transition: 0.3s;
			}

			.hint {
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 1rem;
			}

			.hint-mobile {
				display: none;
			}

			.is-mobile .hint-mobile {
				display: flex;
			}

			.is-mobile .hint-mouse {
				display: none;
			}

			.hint-container.show {
				opacity: 1;
			}

			.hint svg {
				flex: 0 0 3rem;
				margin-right: 1rem;
			}

			.hint-mobile svg {
				animation: look 4s infinite ease-in-out;
			}

			.hint-mouse svg {
				animation: wiggle 4s infinite ease-in-out;
			}

			.landscape-warning {
				display: none;
				font-size: 1.5rem;
			}

			@media all and (orientation:portrait) {
			 	.landscape-warning {
			 		display: block;
			 	}
			}

        </style>
    </head>
    <body>
		
		<div class="text">
	    	<div class="intro">
				<p class="landscape-warning"><strong>For best results, please rotate your device to landscape.</strong></p>

	    		<div class="icon">
					<svg class="loading" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
						 viewBox="0 0 366 366" enable-background="new 0 0 366 366" xml:space="preserve">
					<g>
						<path fill="#FFFFFF" d="M281.9,52.8L105.6,0L0,158.4l65,182.8l177.4,6.7L366,218.8L281.9,52.8z M331.6,170.2l-57-89l4-15.4
							L331.6,170.2z M238.4,336.7L50.3,186.9L269.7,85.2L238.4,336.7z M270.9,78.4l-121-56.1L275.7,60L270.9,78.4z M109.3,10.2l11.2,3.4
							l146.6,67.9L50,182.2L106.8,14L109.3,10.2z M45.2,183L9.7,159.6L97.4,28L45.2,183z M44.3,187.6l16.9,116.9L12.1,166.4L44.3,187.6z
							 M68.7,325.5L49.3,191.7l184.9,147.2l-162.9-6.2L68.7,325.5z M243.1,334.7l30.7-246.9l77.7,121.4l4,8L243.1,334.7z"/>
					</g>
					</svg>

					<svg class="play hide" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512">
				
					<path fill="#FFFFFF" d="M256 0c-141.385 0-256 114.615-256 256s114.615 256 256 256 256-114.615 256-256-114.615-256-256-256zM256 464c-114.875 0-208-93.125-208-208s93.125-208 208-208 208 93.125 208 208-93.125 208-208 208zM192 144l192 112-192 112z"></path>
					</svg>
				</div>
				<span class="status">Loading</span>
				<p>This is an audio-visual experience, <strong>please turn on your sound.</strong> Headphones recommended.</p>
	    	</div>
		</div>

		<div class="hint-container">
			<div class="hint-mobile hint">
				<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512">

					<path fill="#FFFFFF" d="M368 0h-224c-26.4 0-48 21.6-48 48v416c0 26.4 21.6 48 48 48h224c26.4 0 48-21.6 48-48v-416c0-26.4-21.6-48-48-48zM192 24h128v16h-128v-16zM256 480c-17.673 0-32-14.327-32-32s14.327-32 32-32 32 14.327 32 32-14.327 32-32 32zM384 384h-256v-320h256v320z"></path>
				</svg>
				<p>Tilt or drag to look around</p>
			</div>

			<div class="hint-mouse hint">
				<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512">

					<svg fill="#FFFFFF" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512">
					<path d="M397.759 318.145l-76.8-128c-35.532-59.222-111.393-79.334-171.395-46.317-12.93-23.235-21.564-45.225-21.564-63.828 0-17.485 3.79-40.151 21.843-48.83 1.368-0.658 3.435-1.651 5.47-3.687 6.249-6.249 6.249-16.379 0-22.628-5.266-5.266-13.29-6.094-19.421-2.484-25.726 12.414-39.892 39.978-39.892 77.629 0 25.991 11.055 54.009 27.449 82.79-42.94 40.348-53.559 106.479-22.008 159.065l76.8 128c24.001 40.003 66.395 62.164 109.88 62.164 22.411 0 45.118-5.891 65.734-18.26 60.619-36.37 80.275-114.996 43.904-175.614zM236.069 297.825c-4.576 2.912-9.688 4.303-14.737 4.303-9.090 0-17.985-4.503-23.228-12.74l-36.771-57.782c-8.153-12.813-4.376-29.811 8.438-37.965 12.812-8.154 29.81-4.377 37.965 8.437l36.771 57.782c8.153 12.814 4.376 29.811-8.438 37.965z"></path>
					</svg>

				</svg>
				<p>Move mouse to look around</p>
			</div>

		</div>

		<audio preload="auto" controls>
			<source src="ceremony.mp3" type="audio/mpeg">
		</audio>

        <script>
        function loadScript(src, callback)
		{
		  var s,
		      r,
		      ts,
		      t;
		  r = false;
		  s = document.createElement('script');
		  s.type = 'text/javascript';
		  s.src = src;
		  s.onload = s.onreadystatechange = function() {
		    //console.log( this.readyState ); //uncomment this line to see which ready states are called.
		    if ( !r && (!this.readyState || this.readyState == 'complete') )
		    {
		      r = true;
		      callback();
		    }
		  };
		  ts = document.getElementsByTagName('script');
		  t = ts[ts.length-1];
		  t.parentNode.insertBefore(s, t.nextSibling);
		}
		
		loadScript('bundle.js', function() {
			document.querySelector('.play').classList.remove('hide');
			document.querySelector('.loading').classList.add('hide');
			document.querySelector('.status').innerHTML = "&nbsp;";
		})
        </script>
    </body>
</html>